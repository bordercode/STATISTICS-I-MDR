---
title: "Viernes 9 Sep"
author: "JLMR"
date: 2022-03-01T21:13:14-05:00
categories: ["R"]
tags: ["R Markdown", "plot", "regression"]
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>
<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/plotly-binding/plotly.js"></script>
<script src="/rmarkdown-libs/typedarray/typedarray.min.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.min.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<link href="/rmarkdown-libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="/rmarkdown-libs/plotly-main/plotly-latest.min.js"></script>


<p>La orientación empírica se enfoca en la evaluación de indicadores a escala regional para México.</p>
<p><strong>Competencias a desarrollar:</strong> Análisis cuantitativo, Trabajo colaborativo.</p>
<p><strong>Requerimientos:</strong> Laptop, R, R-studio instalado.Este progrma tiene una licencia de acceso libre.</p>
<div id="a.-nociones-teóricas" class="section level3">
<h3>A. Nociones Teóricas</h3>
<div id="procesos-de-análisis-replicables." class="section level4">
<h4>1. Procesos de análisis replicables.</h4>
<p>¿Qué son los procesos de análisis replicable?</p>
<p>En la realización de análisis estadístico partimos de una pregunta, generalmente un problema que deseamos resolver. Para resolverlo aplicamos una serie de técnicas para analizar información. Dos fases comunes en este proceso son el <strong>Analisis exploratorio de datos y el análisis inferencial</strong>.</p>
<p>Una vez que recorremos este proceso y respondemos el questionamiento inicial, la evidencia aportada con el análisis estadístico involucra el surgimietno de nuevas preguntas.</p>
<p><img src="/images/blog/q.jpeg" style="width:40.0%" /></p>
<p>Una característica de este proceso es que es iterativo, es realidad estamos frente a un proceso ciclo. El work flow se repite constantemente.</p>
<p>Sería muy interesante y valioso que los recursos invertidos en términos de tiempo para la solución de un problema pudiesen recurperarse, si, reutilizarse!</p>
<p><img src="/images/blog/recycle.png" style="width:40.0%" /></p>
<p>De esta forma optimizariamos el uso de nuestros recursos.</p>
<p>La forma de hacer este uso óptimo en términos de análisis estadístico de datos es utilizando proceso <strong>replicables</strong>.</p>
<p>Piense en las operaciones que comunmente se hacen en <em>Excel</em> por ejemplo. Una vez que se finaliza con una estimación se guarda el archivo y cuando se require hacer un análisis nuevo se abre otro archivo a pesar de que se usan funciones similares para aproximar el cálculo se trabaja doble ya que no se tiene un registro que documente nuestro trabajo paso a paso.</p>
<p>A media que se hacen análisis de mayor complejidad o con un volumen de datos de mayor escala, se hace evidente la necesidad de documentar el proceso de análisis para su repoducción futura.</p>
<p>El entorno de análisis con plataformas como <strong>R studio</strong> esta diseñado explicitamente para permitir la <strong>replicabilidad</strong> del proceso de análisis.</p>
</div>
<div id="rstudio-vs.-stata-spss-y-excel." class="section level4">
<h4>1.2 RStudio vs. STATA, SPSS y EXCEL.</h4>
<p><img src="/images/blog/logos.jpeg" style="width:80.0%" />
La principal ventaja de <strong>R</strong> sobre otros paquetes disponibles en el mercado actualmente es la flexibilidad del entorno <em>OPEN SOURCE</em>. Una gran comunidad de usuarios, desarrolla y comparte las herramientas que integran R de foma contínua.</p>
<p>Otra ventajas incluyen:</p>
<ul>
<li><p>Integración de código (lenguaje R).</p></li>
<li><p>Explicitamente incorpora la perspectiva de análisis estadístico y permite la representación gráfica dinámica (ej. Shiny apps).</p></li>
<li><p>Generación de reportes endiversos formatos, como HTML, PDF,etc.No solo word.</p></li>
<li><p>Manejo de grandes volumenes de datos (base de datos que contienen millones de registros (individuos, observaciones…)</p></li>
<li><p>Plataforma que permite utilizar herramientaspara visualización (ej.paquete ggplot2)</p></li>
</ul>
<p><a href="https://insight4health.netlify.app/">Ejemplos de uso de R para análisis estadístico</a></p>
</div>
</div>
<div id="algunas-consideraciones-preeliminares-sobre-r." class="section level3">
<h3>Algunas consideraciones preeliminares sobre R.</h3>
</div>
<div id="ide" class="section level2">
<h2>IDE</h2>
<p>R es un lenguaje que nos permite hablar con la computadora, en analogía con cualquier lenguaje, como aprenderemos existen <strong>sustantivos</strong>, estos son los objetos (data frames o conjunto de adtos), las funciones pueden entenderse como <strong>verbos</strong> y sus argumentos como <strong>adverbios</strong>.</p>
<p>Estamos aprendiendo un lenguaje para comunicarnos con nuestra computadora con la finalidad de conducir tareas de análisis de datos.</p>
<p>En la base del proceso de análisis de datos se encuentra la habilidad para almacenar <strong>grandes cantidades de datos</strong> y tener la capacidad para sustraer estos datos cuando lo necesitamos.</p>
<p>El resto de actividades como la <strong>manipulación de los datos</strong>, su <strong>visualización</strong> y el <strong>modelado</strong> son etapas en la secuencia del proceso de análisis.</p>
</div>
<div id="ide-componentes-del-entorno-de-trabajo-en-r-studio" class="section level2">
<h2>IDE Componentes del entorno de trabajo en R Studio</h2>
<p>El entono de trabajo de <strong>R</strong>, (IDE <em>Integrated Development Environment</em>) permite introducción de código para ejecutar estimaciones. Cuatro secciones principales para trabajo:</p>
<p><img src="/images/blog/IDE.jpg" /></p>
<p><img src="https://raw.githubusercontent.com/JoseLuisManzanaresRivera/intersemestral-2021/main/public/post/R_IDE2.jpg" /></p>
<p><strong>Source pane</strong> Permite el registro de los comandos las operaciones utilizadas. (el código utilizado)</p>
<p><img src="/images/blog/source.jpg" /></p>
<p><strong>Environment</strong></p>
<p><img src="/images/blog/environment.jpg" /></p>
<p><strong>Console y Terminal pane</strong> Area para introducir código y ejecutarlo.</p>
<p><img src="/images/blog/console.jpg" /></p>
<p><strong>Viewer</strong></p>
<p><img src="/images/blog/viewer.jpg" /></p>
<p>A medida que avanzamos con el aprendizaje de la implementación en R aprenderemos a manejar elementos en el entorno de R como: <strong>los objetos</strong>, <strong>tipos de datos</strong>, <strong>notación</strong>, <strong>funciones</strong>, etc.,</p>
<div id="instalación-de-paquetes." class="section level3">
<h3>Instalación de Paquetes.</h3>
<p>Estos se integran por funciones que se han construido por miembros de la comunidad, nos permiten realizar operaciones concretas así como estimar procedimientos estadisticos de diverso gado de complejidad.
Para poder utilizar estos paquetes es necesario instalarlos y activarlos en el espacio de trabajo usando el menú Install y Packages. Área inferior izquierda. La siguiente figura muestra el menú para instalarlos.</p>
<p><img src="/images/blog/Packages.jpg" /></p>
<p>Alternativamente podemos utilizar la línea de comandos para hacer la instalación usando la función: <code>install.packages("ggplot2")</code>.</p>
<p>Un paquete básico es <code>tidyverse</code> este es una colección de funciones y es útil para realizar tareas de análisis de datos e incluye herramientas para visualización como <code>ggplot</code>.</p>
<p>Una vez que tenemos el paquete que necesitamos instalado, lo activamos con la función <code>library()</code>.</p>
<p>Una via básica de consulta para conocer los propósiots y los paramétros necesarios para las diferentes funciones para anáisis, es la documentación de ayuda. Esto se hace anteponiendo un signo <span class="math inline">\(?\)</span> al nombre de la función. Ej. <code>?mutate</code>. <em>IMPORTANTE</em>, la libreria que contiene la funcion debe estar actualmente activa para poder acceder a la documentación solicitada.</p>
</div>
<div id="consideraciones-a-recordar-sobre-los-tipos-de-variables-clases-y-tipo-de-atributos." class="section level3">
<h3>Consideraciones a recordar sobre los tipos de variables clases y tipo de atributos.</h3>
<ul>
<li><p>Numeric</p></li>
<li><p>Strings</p></li>
<li><p>Factors</p></li>
</ul>
<p>Esta clase se permite almacenar información categórica, datos que son categóricos por ejemeplo los estados de la república mexicana, sabemos que son 32 y pueden ser almacenados como un vector de factores, en una variable categórica.</p>
<p>El vector sexo con valores c(“Mujer”,“Hombre”), igual es de clase factor. Un conjunto de rangos de edad por ejemplo con factores en un vector como grupo_e&lt;-C(1,2,3,4) para 1:0-12 años, 2:13-24, 3:25-34 y 4 35-64 años.</p>
<p>Estas variables se pueden representar con vectores de clase factor. Esencialmente un factor es una categoría. Note que no son variables cuyo orden o magnitud sea de terminante. Por ejemplo en el vector sexo el 2: Mujer, no es más que uno: Hombre.</p>
<p>Para asignar la clase <strong>factor</strong> a un vector únicamente pasamos la funcion <code>as.factor()</code> del paquete <code>tidyverse</code> o bien la <em>built in</em> función <code>factor()</code>. R almacenará los datos en un vector de enteros <strong>integer</strong> . R también agregará el atributo <strong>levels</strong> al atributo ya existente <strong>class</strong>.</p>
<pre class="r"><code>sexo &lt;- factor(c(&quot;masculino&quot;, &quot;femenino&quot;, &quot;femenino&quot;, &quot;masculino&quot;))
typeof(sexo) </code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<pre class="r"><code>class(sexo) </code></pre>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<pre class="r"><code>attributes(sexo) </code></pre>
<pre><code>## $levels
## [1] &quot;femenino&quot;  &quot;masculino&quot;
## 
## $class
## [1] &quot;factor&quot;</code></pre>
<pre class="r"><code>sexo</code></pre>
<pre><code>## [1] masculino femenino  femenino  masculino
## Levels: femenino masculino</code></pre>
<p>Note que los factores parecen texto pero se comportan como números. Note que R convertirá las strings de texto en factores cuando leemos una base de datos.</p>
<p>Para converitr una variable a texto <strong>character strings</strong> solo utilizamos la función <code>as.character()</code></p>
<p>Ejemplo</p>
<p><code>as.character(sexo)</code></p>
</div>
</div>
<div id="objetos" class="section level2">
<h2>Objetos</h2>
<div id="listas." class="section level3">
<h3>Listas.</h3>
<p>Este objeto, permite almacenar un grupo de vectores, cada elemento de la lista puede ser un vector, a diferencia del caso de los vectores atómicos en donde se agrupan elementos individuales, en una lista cada “elemento” es un vector y estos puden ser de diferentes tipos, ej. numéricos, character strings, logicos. La función utilizada para crear una lista es <code>list()</code></p>
<p>Ejemplo</p>
<pre class="r"><code>lista&lt;-list(100:130,&quot;R&quot;,list(TRUE,FALSE)) 
lista </code></pre>
<pre><code>## [[1]]
##  [1] 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118
## [20] 119 120 121 122 123 124 125 126 127 128 129 130
## 
## [[2]]
## [1] &quot;R&quot;
## 
## [[3]]
## [[3]][[1]]
## [1] TRUE
## 
## [[3]][[2]]
## [1] FALSE</code></pre>
<p>La flexibilidad de este objeto es una ventaja ya que nos permite contar con una herramienta versátil de almacenamiento para agrupar cualquier objeto.</p>
</div>
<div id="data-frames." class="section level3">
<h3>Data frames.</h3>
<p>Este tipo de objeto es la versión bi-dimensional de una lista donde las <strong>columnas</strong> son vectores (variables) y cada <strong>renglón</strong> observaciones. Este es el tipo de objeto más útil para realizar el análisis de datos. Podemos pensar en un data frame como el equivalente de R a una hoja de cálculo de excel.</p>
<p>Un data frame agrupa los <strong>vectores en columnas</strong>, de tal forma que cada vector de un data frame puede contener un tipo de datos específico, pero cada celda dentro un vector tendrá la misma información. Asímismo, los vectores agrupados en un <strong>data frame</strong> son de la misma longitud. La figura siguiente muestra un ejemplo de esta configuración.</p>
<p>Ejemplo 1</p>
<p><img src="/images/blog/dataframe.jpg" /></p>
<p>Ejemplo 2</p>
<p><img src="/images/blog/dataframe2.jpg" /></p>
<p>*Ejemplo.**</p>
<p>Cargamos un data frame (df) con la función read.csv(). Este df esta alojado en un archivo de texto separado por comas <strong>commas separeted values</strong> (.csv) nombrado <strong>ebc15.csv</strong> en la ruta indicada entre comillas: <strong>“C:/Users/…”</strong>.</p>
<pre class="r"><code>egresos&lt;-&quot;https://raw.githubusercontent.com/bordercode/STATISTICS-I-MDR/main/content/english/blog/egresosBC15.csv&quot;

ebc15&lt;-read.csv(egresos)%&gt;%
  select(-X) 


names(ebc15)</code></pre>
<pre><code>## [1] &quot;AFECPRIN4&quot; &quot;SEXO&quot;      &quot;EDAD1&quot;     &quot;CLUES&quot;     &quot;CEDOCVE&quot;</code></pre>
<pre class="r"><code>glimpse(ebc15)</code></pre>
<pre><code>## Rows: 4,625
## Columns: 5
## $ AFECPRIN4 &lt;chr&gt; &quot;C910&quot;, &quot;S822&quot;, &quot;J189&quot;, &quot;S699&quot;, &quot;S822&quot;, &quot;E119&quot;, &quot;K37X&quot;, &quot;G61~
## $ SEXO      &lt;int&gt; 2, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 2, 1, 2, 1, 2, 1, 2, ~
## $ EDAD1     &lt;int&gt; 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, ~
## $ CLUES     &lt;chr&gt; &quot;BCIMS000262&quot;, &quot;BCIMS000262&quot;, &quot;BCIMS000262&quot;, &quot;BCIMS000262&quot;, ~
## $ CEDOCVE   &lt;int&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, ~</code></pre>
<pre class="r"><code>str(ebc15)</code></pre>
<pre><code>## &#39;data.frame&#39;:    4625 obs. of  5 variables:
##  $ AFECPRIN4: chr  &quot;C910&quot; &quot;S822&quot; &quot;J189&quot; &quot;S699&quot; ...
##  $ SEXO     : int  2 1 1 1 1 1 1 1 1 2 ...
##  $ EDAD1    : int  20 20 20 20 20 20 20 20 20 20 ...
##  $ CLUES    : chr  &quot;BCIMS000262&quot; &quot;BCIMS000262&quot; &quot;BCIMS000262&quot; &quot;BCIMS000262&quot; ...
##  $ CEDOCVE  : int  2 2 2 2 2 2 2 2 2 2 ...</code></pre>
<pre class="r"><code>class(ebc15)</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>Este contiene información de egresos hospitalarios. Note que contiene 5 vectores (variables). Hemos utilizado la función <code>glimpse()</code> del paquete <code>tidyverse</code> para conocer el tipo de vectores almacenados en el DF y una función alternativa para conocer esta información mediante la función <code>str()</code> structure.</p>
<p>Note que la clase del objeto <code>ebc15</code> es data.frame. También hemos extraído con la función <code>names()</code> los nombres de los vectores contenidos en el df.</p>
</div>
</div>
<div id="scripts" class="section level2">
<h2>Scripts</h2>
<p>Para evitar escribir todo el análisis nuevamente, el <em>work flow</em> recomendado en <strong>R</strong> es trabajar con <strong>scripts</strong>, estos son archivos de texto en donde almacenamos todo el código utilizado en nuestro análisis.</p>
<p>Aún mejor si deseamos podemos almacenar el código en un archivo R Markdown <a href="https://rmarkdown.rstudio.com/">R Markdown</a>, lo que nos permite la flexibilidad de crear el resultado del análisis en diversos formatos incluido html. Sí, una página web para consultarla en internet que podemos alojar en servidores como <a href="https://www.netlify.com/">Netlify</a> o repositorios como <a href="https://github.com/">Github</a> y publicar el contenido usando <strong>githubweb pages</strong> .</p>
<p><img src="/images/blog/scripts.jpg" /></p>
<p>Una vez que almacenamos el código en un script podemos ejecutar cada linea de este código (just hit enter en frente de la linea de código a ejecutar), seleccionar una porción (y lo ejecutamos con ctr+enter) o bien ejecturar todo el <strong>code chunk</strong> (como le decimos en la comunidad <strong>R</strong> a las porciones de código de un script.) utilizando la función <strong>Run</strong> del menú superior.</p>
<div id="creación-de-objetos-y-lectura-de-archivos" class="section level3">
<h3>Creación de objetos y lectura de archivos</h3>
<p>Ara iniciar el análisis de datos cargamos una base que puede presentarse en una variaedad de formatos (uno muy comun es .csv ) o bien Podemos crear un objeto (ej. un dataframe o una lista de variables) en R y almacenarlo para su análisis, para lo cual asignamos un nombre usando el simbolo <span class="math inline">\(&lt;-\)</span> y tenemos los datos almacenados en la memoria, a esto le denominamos objetos. El simbolo será el equivalente a el <span class="math inline">\(=\)</span>. Se lee igual a…
Esta notación es un estandar en R.</p>
<p>Una vez que nos familizarizamos con la <strong>línea de comando</strong> con facilidad podemos realizar operaciones básicas.</p>
<p><strong>Note:</strong> Cuando creamos un objeto este aparece en la parte superior derecha en el área de environment</p>
<p><strong>Ejercicio</strong></p>
<p>Realice las siguentes operaciones:</p>
<ul>
<li>Elija un número y sume 2.</li>
<li>Multipleque el resultado por 3.</li>
<li>Reste 6 de la respuesta.</li>
</ul>
<p>Podemos observar La lista de los objetos activos en el entorno de trabajo usando el comando <strong>ls()</strong></p>
<pre class="r"><code>## Para listar  los objetos disponibles.
ls()</code></pre>
<pre><code>## [1] &quot;ebc15&quot;   &quot;egresos&quot; &quot;lista&quot;   &quot;sexo&quot;</code></pre>
<p>Importante:
<strong>Note:</strong> You can name an object in R almost anything you want, but there are a few rules. First,
a name <strong>cannot start with a number</strong>. Second, a name cannot use some special symbols,
like <strong>^, !, $, @, +, -, /, or * </strong>: Note también que los nombres son sensibles al uso de mayúsculas. Note que si el nombre asignado ya existe, el nuevo objeto sobre escribirá el objeto anterior.</p>
<p>Ejercicio</p>
<p>Genere un <strong>dado virtual:</strong></p>
<pre class="r"><code>1:6</code></pre>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<p>Este notación nos permite tener un lista de números entre 1 y 6, pero es necesario almacenarlos. Para lo cual asignamos un nombre usando el simbolo <span class="math inline">\(&lt;-\)</span></p>
<pre class="r"><code>Dado&lt;-1:6
Dado</code></pre>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<p><strong>Note:</strong> Cuando creamos un objeto este aparece en la parte superior derecha en el área de environment</p>
<p><img src="/images/blog/environment.jpg" /></p>
<pre class="r"><code>dado&lt;-1:10
dado</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<pre class="r"><code>dado&lt;-1:6
dado</code></pre>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<pre class="r"><code>dice&lt;-1:6
dice</code></pre>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<p>¿Qué podemos hacer con el dado?</p>
<p>Comencemos por algunas operaciones aritméticas.</p>
<pre class="r"><code>dado-1</code></pre>
<pre><code>## [1] 0 1 2 3 4 5</code></pre>
<pre class="r"><code>dado/2</code></pre>
<pre><code>## [1] 0.5 1.0 1.5 2.0 2.5 3.0</code></pre>
<pre class="r"><code>dado*dado</code></pre>
<pre><code>## [1]  1  4  9 16 25 36</code></pre>
<p>Note que el resultado en cada caso es un vector del mismo tamaño (en este caso 1x6). Si multiplicamos un vector de un tamaño inferior al primer factor, R replica los valores del vector de menor tamaño hasta alcanzar el tamaño del primero vertor y así aplica la operación para ambos vectores del mismo tamaño.</p>
<p>Ahora que ya hemos realizado algo de artimética con el dado, veamos como podemos lanzarlo para obtener un número aleatorio. PAra este proposito necesitamos una función.</p>
</div>
</div>
<div id="funciones" class="section level2">
<h2>Funciones</h2>
<p>Para realizar esta tarea de selección de un número aleatorio, necesitamos una función, en R tener una función es fácil únicamente necesitamos el <strong>nombre</strong> y los <strong>argumentos</strong> (entre paréntesis) sobre los cuales se aplicará dicha función. Algunos ejemplos de funciones disponibles de forma automática en R, incluyen :</p>
<pre class="r"><code>round(5.8)</code></pre>
<pre><code>## [1] 6</code></pre>
<pre class="r"><code>round(3.1416)</code></pre>
<pre><code>## [1] 3</code></pre>
<pre class="r"><code>factorial(3)</code></pre>
<pre><code>## [1] 6</code></pre>
<p>Los datos que pasamos en la función los denominamos <strong>argumentos</strong>. Estos pueden ser datos, funciones o resultados de otras funciones.</p>
<p>Ejemplo:</p>
<pre class="r"><code>mean(1:6)</code></pre>
<pre><code>## [1] 3.5</code></pre>
<pre class="r"><code>mean(dado)</code></pre>
<pre><code>## [1] 3.5</code></pre>
<pre class="r"><code>round(mean(dado))</code></pre>
<pre><code>## [1] 4</code></pre>
<p>Para nuestro propósito de obtener un número aleatorio en un lanzamiento de dado, podemos utilizar la funciòn sample, esta toma <strong>dos argumentos</strong>, el vector x y el tamaño de la muestra.</p>
<pre class="r"><code>sample(x=dado,size=1)</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="r"><code>sample(x=1:6,size=1)</code></pre>
<pre><code>## [1] 5</code></pre>
<p>Es posible omitir la etiqueta del argumetno si recordamos que argumento corresponde con la posicion, pero es funciones de mayor tamaño es de ayuda aotar el nombre ya que no siempre recordamos los nombres de todos los argumentos.</p>
<pre class="r"><code>sample(dado,1)</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="r"><code>sample(1:6,1)</code></pre>
<pre><code>## [1] 1</code></pre>
<p>Si necesitamos conocer los nombres de los argumentos de alguna funciòn pasamos el nombre de la funciona la funciòn <code>args()</code>, Ejemplo <code>args(round)</code></p>
<pre class="r"><code>args(round)</code></pre>
<pre><code>## function (x, digits = 0) 
## NULL</code></pre>
<p><strong>Note</strong> que las funciones incluyen valores predeterminados para algunos argumentos, en el caso anterior el valor del argumento <em>digits</em> es 0, de modo que si omitimos este argumento, el resultado será el redondeo al entero próximo, sin decimales.</p>
<pre class="r"><code># Redondeo con dos digitos 
round(3.1416,2)</code></pre>
<pre><code>## [1] 3.14</code></pre>
<pre class="r"><code># Redondeo con un digito
round(3.1416,1)</code></pre>
<pre><code>## [1] 3.1</code></pre>
<pre class="r"><code># redondeo con parametro predeterminado.
round(3.1416)</code></pre>
<pre><code>## [1] 3</code></pre>
</div>
<div id="muestreo-con-reemplazo." class="section level2">
<h2>Muestreo con reemplazo.</h2>
<p>Cuando aplicamos la función <code>sample(dado, size = 2)</code> notemos que nunca obtenemos dos veces el mismo valor, esto es la función de forma predeterminada considera una muestra aleatoria pero sin reemplazo, para evitar este comportamiento y poder simular el lanzamiento de un dado en realidad en donde podemos obtener por ejemplo el valor 3 y luego otro 3, es necesario inlcuir el argumeto <code>replace = TRUE</code>, esto permite que una vez que lanzamos el primer dado, sea posible obtener el mismo valor en el segundo lanzamiento, tal como sucede en el caso real.</p>
<pre class="r"><code>sample(dado, size = 2, replace = TRUE)</code></pre>
<pre><code>## [1] 6 1</code></pre>
<p>El muestreo con reemplazo es una manera fácil de crear muestras aleatorias simples. POr ejemplo simular correctamente el lanzamiento de un dado en el que obtenemos un numero aleatorio independiente cada vez.</p>
<p>Si deseas sumar el valor del dado para los dos lanzamientos, unicametne aplicamos la función de suma y tenemos el resultado de esta simulación con números aleatorios.</p>
<pre class="r"><code>dados &lt;- sample(dado, size = 2, replace = TRUE)
dados</code></pre>
<pre><code>## [1] 2 4</code></pre>
<pre class="r"><code>dadosuma&lt;-sum(dados)
dadosuma</code></pre>
<pre><code>## [1] 6</code></pre>
<p>Qué pasaria si indicamos el valor de <em>dados</em> varias veces, cambiará el valor obtenido cada vez que indicamos el nombre del objeto?</p>
<pre class="r"><code>dados</code></pre>
<pre><code>## [1] 2 4</code></pre>
<pre class="r"><code>dados</code></pre>
<pre><code>## [1] 2 4</code></pre>
<pre class="r"><code>dados </code></pre>
<pre><code>## [1] 2 4</code></pre>
<p>Vemos que no obtenemos una nueva muestra aleatoria cada vez que indicamos el nombre del objeto, esto es lo que esperamos ya que una vez que aplicamos una función a un conjunto de argumentos y asignamos un nombre creamos un objeto y al llamarlo obtenemos el resultado permanentemente.</p>
<p>Si queremos obtener un resultado distinto cada vez que lanzamos el dado podemos especificarlo por medio de una funciòn.</p>
</div>
<div id="escribe-tus-propias-funciones." class="section level2">
<h2>Escribe tus propias funciones.</h2>
<p>Hasta ahora hemos creado estos objetos:</p>
<p><code>dado&lt;-1:6</code></p>
<p><code>dados&lt;-(dado,2,replace=TRUE)</code></p>
<p><code>sum(dados)</code></p>
<p>No sería conveniente que escribiésemos estos objetos cada vez que necesitamos el resultado del lanzamiento. Para simplificar este proceso podemos construir una función que haga el trabajo por nosotros de manera automática.</p>
<p>Hagamos una funciòn llama <code>lanzar()</code>, esta función nos permitirá tener un el valor nuevo para cada vez que lancemos los dados, sin tener que reescribir cada objeto.</p>
<p><strong>Every function in R has three basic parts:</strong> a <strong>name</strong>, <strong>a body of code</strong>, and <strong>a set of arguments</strong>.</p>
<p>To make your own function, you need to replicate these parts and store them in an R
object, which you can do with the <em>function</em> function. To do this, call function() and
follow it with a pair of <strong>braces</strong>, {}:</p>
<p><code>mi_función &lt;- function() {}</code></p>
<pre class="r"><code>lanzar &lt;- function() {
dado &lt;- 1:6
dados &lt;- sample(dado, size = 2, replace = TRUE)
sum(dados)
}

lanzar()</code></pre>
<pre><code>## [1] 7</code></pre>
</div>
<div id="argumentos" class="section level2">
<h2>Argumentos</h2>
<p>Ahora vamos a incluir argumentos a nuestra función.
Veamos que sucede cuando incluimos un objeto que no hemos definido, llamémos a este elemento <strong>tipo</strong>, en lugar del objeto <span class="math inline">\(dado&lt;-1:6\)</span>.</p>
<pre class="r"><code>lanzar2 &lt;- function() {
dados &lt;- sample(tipo, size = 2, replace = TRUE)
sum(dados)
}</code></pre>
<p><code>lanzar2()</code></p>
<p>Obtenemos un error: <strong>Error: object ‘lanzar2’ not found</strong>. esto debido a que no existe el objeto <strong>tipo</strong>.</p>
<p>Este comportamiento de hecho nos permite incluir argumentos, para aplicar la función lo único que necesitamos hacer es indicar este elemento (tipo) como argumento. Al incluir argumentos en nuestra función, podemos en nuestro ejemplo, especificar diferentes tipos de <strong>dados</strong>.</p>
<p>Recordemos que estamos haciendo dos lanzamientos con un dato de 6 lados, pero podemos especificar otros tipos de dados, como uno con 20 lados, uno con 4 o 3,etc. Esta información la indicamos mediante los argumentos.</p>
<pre class="r bg-danger"><code>lanzar2 &lt;- function(tipo) {
dados &lt;- sample(tipo, size = 2, replace = TRUE)
sum(dados)
}

lanzar2(tipo=1:4)</code></pre>
<pre class="bg-warning"><code>## [1] 8</code></pre>
<pre class="r bg-danger"><code>lanzar2(tipo=1:20)</code></pre>
<pre class="bg-warning"><code>## [1] 36</code></pre>
<pre class="r bg-danger"><code>lanzar2(1:6)</code></pre>
<pre class="bg-warning"><code>## [1] 6</code></pre>
<p><code>lanzar2(tipo)</code></p>
<p>Note que no es necesario nombrar tipo explicitamente, aunque lo podemos hacer para mayor claridad, esto no es necesario por que tipo es el único argumento de nuestra función <code>lanzar2()</code>.</p>
<p>Note que la función resulta en un Error, cuando no proporcionamos el argumento tipo ej. <code>lanzar2()</code>. Esto es interesante por que de hecho podemos especificar <strong>argumentos predeterminados</strong> al momento de construir la función de tal forma que podemos dejar vacio este espacio cuando estimamos la función.</p>
<pre class="r"><code>lanzar2 &lt;- function(tipo=1:6) {
dados &lt;- sample(tipo, size = 2, replace = TRUE)
sum(dados)
}

lanzar2()</code></pre>
<pre><code>## [1] 7</code></pre>
<pre class="r"><code>lanzar2(1:12)</code></pre>
<pre><code>## [1] 14</code></pre>
<p>Ahora cuando llamamos la función, obtenemos la información solicitada!</p>
<p>Ahora es posible proporcionar un tipo de dado particular cada vez que lanzamos el dado o bien si preferimos dejar el argumento en blanco y la función aplicará el valor predeterminado para el argumento tipo.</p>
<p>En síntesis el proceso para crear una función involucra las siguientes partes:</p>
<p><img src="images/blog/Funciones.jpg" /></p>
<div id="frecuencia." class="section level3">
<h3>Frecuencia.</h3>
<pre class="r"><code># Defining vector
x &lt;- c(3, 7, 5, 13, 20, 23, 39, 23, 40,
    23, 14, 12, 56, 23, 29, 56, 37,
    45, 1, 25, 8, 56, 56)

# Generate frequency table
y &lt;- table(x)

# Print frequency table
print(y)</code></pre>
<pre><code>## x
##  1  3  5  7  8 12 13 14 20 23 25 29 37 39 40 45 56 
##  1  1  1  1  1  1  1  1  1  4  1  1  1  1  1  1  4</code></pre>
</div>
</div>
<div id="moda" class="section level2">
<h2>Moda</h2>
<pre class="r"><code># Defining vector
x &lt;- c(3, 7, 5, 13, 20,  39, 23, 40,
    23, 14, 12, 56, 23, 29, 56, 37,
    45, 1, 25, 8, 56, 56)

# Generate frequency table
y &lt;- table(x)

# Print frequency table
print(y)</code></pre>
<pre><code>## x
##  1  3  5  7  8 12 13 14 20 23 25 29 37 39 40 45 56 
##  1  1  1  1  1  1  1  1  1  3  1  1  1  1  1  1  4</code></pre>
<pre class="r"><code># Mode of x

moda &lt;- names(y)[which(y == max(y))]

# Print mode
print(moda)</code></pre>
<pre><code>## [1] &quot;56&quot;</code></pre>
<div id="media" class="section level3">
<h3>Media</h3>
<p><a href="https://www.geeksforgeeks.org/central-tendency-in-r-programming/#:~:text=Central%20Tendency%20is%20one%20of,centre%20value%20of%20the%20distribution.">Notación</a></p>
<p>Ejemplo 2</p>
<pre class="r"><code># Defining vector
x &lt;- c(3, 7, 5, 13, 20, 23, 39, 23, 40, 23, 14, 12, 56, 23)

# Print mean
print(mean(x))</code></pre>
<pre><code>## [1] 21.5</code></pre>
</div>
<div id="mediana." class="section level3">
<h3>Mediana.</h3>
<p>Una medida de tendencia central que es util cuando los datos tienen sesgo, ej. cuando la media y la mediana no son iguales.</p>
<p>Ejemplo 3</p>
<pre class="r"><code> # Defining vector
x &lt;- c(3, 7, 5, 13, 20, 23, 39,
    23, 40, 23, 14, 12, 56, 23)

# Print Median
median(x)</code></pre>
<pre><code>## [1] 21.5</code></pre>
</div>
<div id="ejempo-1-estimación-de-medidas-de-tendencia-central-básicas." class="section level3">
<h3>Ejempo 1 Estimación de medidas de tendencia central básicas.</h3>
<p>###Datos: Correlación entre Salario medio y participación de la Mujer por categoria de ocupación.</p>
<div id="carreras-más-populares-por-categoria." class="section level4">
<h4>Carreras más populares por categoria.</h4>
</div>
</div>
</div>
